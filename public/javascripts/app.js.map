{"version":3,"sources":["app/js/action_handler.js","app/js/backend.js","app/js/components/alert_message.js","app/js/components/app.js","app/js/components/date_input.js","app/js/components/home.js","app/js/components/loading_submit.js","app/js/components/login.js","app/js/components/register.js","app/js/components/route_not_found.js","app/js/components/travel_planner.js","app/js/components/travel_plans.js","app/js/components/trip.js","app/js/components/trip_list.js","app/js/components/trips.js","app/js/config.jsenv","app/js/constants/trip_properties.js","app/js/initialize.js","app/js/modernizr-custom.js","app/js/routes.js","app/js/stores/session_store.js","app/js/stores/trip_store.js","app/js/utils/error_handler.js","app/js/utils/form_helper.js","app/js/utils/on_change_setup.js"],"names":[],"mappings":"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","file":"public/javascripts/app.js","sourcesContent":["var EventEmitter = EventEmitter2\n\nclass ActionHandler extends EventEmitter {}\n\nexport default new ActionHandler\n","var config = require('js/config')\nclass Backend {\n\n  constructor() {\n    for (let method of ['get', 'put', 'post', 'delete']) {\n      this[method] = (path, params={}) => {\n        return this.call(path, params, method)\n      }\n    }\n  }\n\n  call(path, params={}, method='get') {\n    method = method.toUpperCase()\n    // we need to hack DELETE/PUT since browsers and jQuery do not support it natively\n    if (method === 'DELETE' || method === 'PUT') {\n        params['_method'] = method\n        method = 'POST'\n    }\n    return $.ajax(`${this.endpoint()}${path}.json`, { data: params, method: method })\n  }\n\n  endpoint() {\n    return config.BACKEND\n  }\n\n}\n\nexport default new Backend\n","import actionHandler from '../action_handler'\n\nexport default class AlertMessage extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = { visible: false}\n  }\n  // FIXME actionHandler shouldn't be so tightly coupled with AlertMessage\n  componentDidMount() {\n    actionHandler.on('alert', (alertInfo) => {\n      this.setState({\n        visible: true,\n        level: alertInfo.level,\n        message: alertInfo.message\n      })\n    })\n  }\n  componentDidUpdate(){\n    if (this.timeoutId) {\n      clearTimeout(this.timeoutId)\n    }\n    if (this.state.visible) {\n      this.timeoutId = setTimeout(() => {\n        this.setState({visible: false})\n      }, this.props.delay)\n    }\n  }\n  render() {\n    var classes = `alert ${this.state.level}`\n    return this.state.visible ? <div className={classes}>{this.state.message}</div> : <span/>\n  }\n}\n","import AlertMessage from './alert_message'\nvar RouteHandler = ReactRouter.RouteHandler\n\nexport default class App extends React.Component {\n  render() {\n    return (\n        <div>\n          <AlertMessage delay={5000}/>\n          <RouteHandler/>\n        </div>\n    )\n  }\n}\n","// For touch devices the HTML5 input is a better choice as uses native controls.\nexport default class DateInput extends React.Component {\n  render() {\n    return (Modernizr.touchevents ?\n      <input type=\"date\" value={this.props.date ? this.props.date.format('YYYY-MM-DD') : this.props.date} placeholder={this.props.placeholder} onChange={this.props.onChange} required={this.props.required} /> :\n      <DatePicker selected={this.props.date} placeholderText={this.props.placeholder} required={this.props.required} onChange={this.props.onChange} isClearable={this.props.isClearable}/>\n    )\n  }\n}\n","import Trips from './trips'\nimport Login from './login'\nimport backend from '../backend'\nimport actionHandler from '../action_handler'\nimport sessionStore from '../stores/session_store'\n\nexport default class Home extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = { loggedIn: sessionStore.sessionValid }\n  }\n  componentDidMount() {\n    sessionStore.check()\n    actionHandler.on('session-changed', () => {\n      this.setState({loggedIn: sessionStore.sessionValid})\n    })\n  }\n  render() {\n    return (\n      <div>\n        {this.state.loggedIn ? <Trips/> : <Login/>}\n      </div>\n    )\n  }\n}\n","export default class LoadingSubmit extends React.Component {\n  render() {\n    let copy = this.props.loading ? 'Loading...' : this.props.title\n    let className = this.props.loading ? 'loading' : ''\n    return <input type=\"submit\" className={className} value={copy}/>\n  }\n}\n","var Link = ReactRouter.Link\nimport LoadingSubmit from './loading_submit'\nimport formHelper from '../utils/form_helper'\nimport sessionStore from '../stores/session_store'\nimport actionHandler from '../action_handler'\n\nexport default class Login extends React.Component {\n\n  constructor(props) {\n    super(props)\n    this.state = { loading: false }\n    actionHandler.on('session-changed', () => this.state.loading = sessionStore.loading)\n  }\n\n  componentDidMount() {\n    if (window.location.search.match(/verified/)) {\n      actionHandler.emit('alert', { level: 'success', message: 'Email verified! Please login.' })\n      this.context.router.transitionTo('/') // Make sure when they logout they dont get the above message again!\n    }\n  }\n\n  signIn(event) {\n    event.preventDefault()\n    var credentials = {\n      user: formHelper(this, ['email', 'password'])\n    }\n    sessionStore.authenticate(credentials)\n  }\n\n  render() {\n    return (\n      <div id=\"login\">\n        <h1>Login</h1>\n        <form onSubmit={this.signIn.bind(this)}>\n          <input type=\"email\" ref=\"email\" placeholder=\"Email\" required/>\n          <input type=\"password\" ref=\"password\" placeholder=\"Password\" pattern=\".{8,}\" title=\"Minimum length 8\" required/>\n          <LoadingSubmit loading={this.state.loading} title=\"Login\"/>\n        </form>\n        <Link to=\"/register\">Not yet registered?</Link>\n      </div>\n    )\n  }\n}\n\nLogin.contextTypes = {\n  router: React.PropTypes.func.isRequired\n}\n","var Link = ReactRouter.Link\nimport LoadingSubmit from './loading_submit'\nimport errorHandler from '../utils/error_handler'\nimport actionHandler from '../action_handler'\nimport backend from '../backend'\n\nexport default class Register extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = { loading: false }\n  }\n  register() {\n    this.setState({ loading: true })\n    event.preventDefault()\n    var credentials = {\n      user: {\n        email: this.refs.email.getDOMNode().value.trim(),\n        password: this.refs.password.getDOMNode().value.trim(),\n        password_confirmation: this.refs.password_confirmation.getDOMNode().value.trim()\n      }\n    }\n    let router = this.context.router\n    backend.post('/users', credentials).then( (res) => {\n        router.transitionTo('/')\n        actionHandler.emit('alert', { level: 'success', message: 'Please check your email and click the verification link.' })\n        this.setState({ loading: false })\n    }, (res) => {\n      errorHandler({password_confirmation: \"password confirmation\"})(res)\n      this.setState({ loading: false })\n    })\n  }\n  render() {\n    return (\n      <div id=\"register\">\n        <h1>Register</h1>\n        <form onSubmit={this.register.bind(this)}>\n          <input type=\"email\" ref=\"email\" placeholder=\"Email\" required/>\n          <input type=\"password\" ref=\"password\" placeholder=\"Password\" pattern=\".{8,}\" title=\"Minimum length 8\" required/>\n          <input type=\"password\" ref=\"password_confirmation\" placeholder=\"Confirm Password\" pattern=\".{8,}\" title=\"Minimum length 8\" required/>\n          <LoadingSubmit loading={this.state.loading} title=\"Register\"/>\n        </form>\n        <Link to=\"/\">Already registered?</Link>\n      </div>\n    )\n  }\n}\n\nRegister.contextTypes = {\n  router: React.PropTypes.func.isRequired\n}\n","var Link = ReactRouter.Link\n\nexport default class RouteNotFound extends React.Component {\n\n  render() {\n    return (\n      <div>\n        <h1>Page not found</h1>\n        <p>It seems that page does not exist. Head to the <Link to=\"/\">home</Link> page to find your bearings!</p>\n      </div>\n    )\n  }\n}\n","import Home from './home'\nimport Login from './login'\nimport TravelPlans from './travel_plans'\n\nexport default class TravelPlanner extends Home {\n\n  componentDidMount() {\n    super.componentDidMount()\n  }\n\n  render() {\n    return (\n      <div>\n        {this.state.loggedIn ? <TravelPlans/> : <Login/>}\n      </div>\n    )\n  }\n\n}\n","import TripList from './trip_list'\nvar Link = ReactRouter.Link\nimport tripStore from '../stores/trip_store'\nimport actionHandler from '../action_handler'\n\nexport default class TravelPlans extends React.Component {\n\n  constructor(props) {\n    super(props)\n    this.state = { trips: tripStore.trips }\n  }\n\n  componentDidMount() {\n    actionHandler.on('trips-changed', () => {\n      this.setState({ trips: tripStore.nextMonthsTrips })\n    })\n    tripStore.populate()\n  }\n\n  render() {\n    return (\n      <div id=\"travel-planner\">\n        <h1>Next months' trips</h1>\n        <TripList trips={this.state.trips} hideActions={true}/>\n        <button onClick={window.print}>Print</button>\n        <Link className=\"button\" to=\"/\">Back</Link>\n      </div>\n    )\n  }\n}\n","import DateInput from './date_input'\nimport tripStore from '../stores/trip_store'\nimport tripProperties from '../constants/trip_properties'\nimport onChangeSetup from '../utils/on_change_setup'\n\nexport default class Trip extends React.Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      isEditing: false,\n      destination: (this.props.destination || ''),\n      startDate: moment(this.props.startDate),\n      endDate: moment(this.props.endDate),\n      comment: (this.props.comment || '')\n    }\n    onChangeSetup(this, ['destination', 'startDate', 'endDate', 'comment'])\n  }\n\n  duration() {\n    return `${moment(this.props.startDate).format('MMMM Do YYYY')} - ${moment(this.props.endDate).format('MMMM Do YYYY')}`\n  }\n\n  daysTo() {\n    return moment().startOf('day').to(moment(this.props.startDate))\n  }\n\n  inFuture() {\n    return moment(this.props.startDate).toDate() > new Date()\n  }\n\n  destroy() {\n    tripStore.destroy(this.props.id)\n  }\n\n  toggleEditing() {\n    this.setState({ isEditing: !this.state.isEditing })\n  }\n\n  save(event) {\n    event.preventDefault()\n    let trip = {\n      destination: this.state.destination.trim(),\n      start_date: this.state.startDate.toJSON(),\n      end_date: this.state.endDate.toJSON(),\n      comment: this.state.comment.trim()\n    }\n    if (tripStore.tripValid(trip)) {\n      tripStore.save(this.props.id, trip)\n      this.toggleEditing()\n    }\n  }\n\n  render() {\n    let startingIn = this.inFuture() ? <span className=\"days\">(Starting {this.daysTo()})</span> : null\n    let readView = (\n      <div>\n        <h2 className=\"destination\">{this.props.destination} {startingIn}</h2>\n        <div className=\"duration\">{this.duration()}</div>\n        <div className=\"comment\">{this.props.comment}</div>\n        <div className=\"buttons\">\n          {this.props.hideActions ? null : <div className=\"col\"><button onClick={this.toggleEditing.bind(this)}>Edit</button></div>}\n          {this.props.hideActions ? null : <div className=\"col\"><button onClick={this.destroy.bind(this)}>Delete</button></div>}\n        </div>\n      </div>\n    )\n    // TODO allow update by hitting return key\n    let writeView = (\n      <div>\n        <input type=\"text\" value={this.state.destination} onChange={this.destinationChanged.bind(this, 'string')} required/>\n        <DateInput date={this.state.startDate} required={true} onChange={this.startDateChanged.bind(this, 'date')}/>\n        <DateInput date={this.state.endDate} required={true} onChange={this.endDateChanged.bind(this, 'date')}/>\n        <textarea value={this.state.comment} onChange={this.commentChanged.bind(this, 'string')} required/>\n        <div className=\"buttons\">\n          <div className=\"col\"><button onClick={this.save.bind(this)}>Save</button></div>\n          <div className=\"col\"><button onClick={this.toggleEditing.bind(this)}>Cancel</button></div>\n        </div>\n      </div>\n    )\n    return (\n      <div className=\"trip\">\n        {this.state.isEditing ? writeView : readView}\n      </div>\n    )\n  }\n\n}\n","import Trip from './trip'\n\nexport default class TripList extends React.Component {\n\n  render() {\n    return (\n      <div>\n        {this.props.trips.map( (t) => {\n          return <Trip key={t.id} id={t.id} destination={t.destination} startDate={t.start_date} endDate={t.end_date} comment={t.comment} hideActions={this.props.hideActions}/>\n        })}\n      </div>\n    )\n  }\n\n}\n","var Link = ReactRouter.Link\nimport actionHandler from '../action_handler'\nimport TripList from './trip_list'\nimport DateInput from './date_input'\nimport tripStore from '../stores/trip_store'\nimport sessionStore from '../stores/session_store'\nimport tripProperties from '../constants/trip_properties'\nimport onChangeSetup from '../utils/on_change_setup'\n\nexport default class Trips extends React.Component {\n\n  setupFilters(filters) {\n    for (let filter of filters) {\n      this[`filterBy${filter[0].toUpperCase()}${filter.substring(1)}`] = (type, value) => {\n        if (value && !value._isAMomentObject) {\n          value = value.target.value\n        }\n        if (value && type === 'date') {\n          value = moment(value)\n        }\n        tripStore.filter({ [filter]: value })\n        this.setState({[filter]: value})\n      }\n    }\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      trips: tripStore.trips,\n      keyword: '',\n      from: null,\n      to: null,\n      destination: '',\n      start_date: null,\n      end_date: null,\n      comment: ''\n    }\n    this.setupFilters(['keyword', 'from', 'to'])\n    onChangeSetup(this, tripProperties)\n  }\n\n  componentDidMount() {\n    actionHandler.on('trips-changed', this.updateTrips.bind(this))\n    actionHandler.on('trip-added', this.clearForm.bind(this))\n    tripStore.populate()\n  }\n\n  signOut() {\n    sessionStore.logOut()\n  }\n\n  updateTrips() {\n    this.setState({ trips: tripStore.trips })\n  }\n\n  addTrip(event) {\n    event.preventDefault()\n    tripStore.addTrip({\n      destination: this.state.destination.trim(),\n      start_date: this.state.start_date.toJSON(),\n      end_date: this.state.end_date.toJSON(),\n      comment: this.state.comment.trim()\n    })\n  }\n\n  clearForm() {\n    this.setState( {\n      destination: '',\n      start_date: '',\n      end_date: '',\n      comment: ''\n    })\n  }\n\n  render() {\n    return (\n      <div id=\"trips\">\n        <h1>My Trips\n          <span id=\"logout\" className=\"button\" onClick={this.signOut}>Log out</span>\n        </h1>\n        <Link className=\"travel-planner\" to=\"/travel-planner\">See next months trips...</Link>\n        <div>\n          <input type=\"text\" placeholder=\"Filter by keyword\" onChange={this.filterByKeyword.bind(this, 'string')} />\n          <label>Filter trips starting on or after:</label>\n          <DateInput placeholder=\"From\" date={this.state.from} onChange={this.filterByFrom.bind(this, 'date')} isClearable={true}/>\n          <label>Filter trips starting on or before:</label>\n          <DateInput placeholder=\"To\" date={this.state.to} onChange={this.filterByTo.bind(this, 'date')} isClearable={true}/>\n        </div>\n        <TripList trips={this.state.trips} />\n        <h2>Add a new Trip</h2>\n        <form onSubmit={this.addTrip.bind(this)}>\n          <input type=\"text\" placeholder=\"Destination\" value={this.state.destination} onChange={this.destinationChanged.bind(this, 'string')} required/>\n          <DateInput placeholder=\"Trip start\" date={this.state.start_date} required={true} onChange={this.start_dateChanged.bind(this, 'date')}/>\n          <DateInput placeholder=\"Trip end\" date={this.state.end_date}  required={true} onChange={this.end_dateChanged.bind(this, 'date')}/>\n          <textarea onChange={this.commentChanged.bind(this, 'string')} value={this.state.comment}></textarea>\n          <input type=\"submit\" value=\"Add Trip\"/>\n        </form>\n      </div>\n    )\n  }\n}\n","module.exports = {\"BACKEND\":\"http://localhost:3000\",\"ROOT_PATH\":\"/\"}","const tripProperties = ['destination', 'start_date', 'end_date', 'comment']\nexport default tripProperties\n","import routes from './routes'\nrequire('js/modernizr-custom')\n\n// Allow jQuery to set cookies on cross domain ajax\n$.ajaxPrefilter( ( options, originalOptions, jqXHR ) => {\n  options.crossDomain ={\n    crossDomain: true\n  };\n  options.xhrFields = {\n    withCredentials: true\n  }\n})\n\n// Mount React app on #app\ndocument.addEventListener('DOMContentLoaded', () => {\n  ReactRouter.run(routes, ReactRouter.HistoryLocation, function (Handler) {\n    React.render(<Handler/>, document.getElementById('app'))\n  })\n}, false)\n","/*!\n * modernizr v3.1.0\n * Build http://modernizr.com/download?-touchevents-dontmin\n *\n * Copyright (c)\n *  Faruk Ates\n *  Paul Irish\n *  Alex Sexton\n *  Ryan Seddon\n *  Patrick Kettner\n *  Stu Cox\n *  Richard Herrera\n\n * MIT License\n */\n\n/*\n * Modernizr tests which native CSS3 and HTML5 features are available in the\n * current UA and makes the results available to you in two ways: as properties on\n * a global `Modernizr` object, and as classes on the `<html>` element. This\n * information allows you to progressively enhance your pages with a granular level\n * of control over the experience.\n*/\n\n;(function(window, document, undefined){\n  var tests = [];\n  \n\n  /**\n   *\n   * ModernizrProto is the constructor for Modernizr\n   *\n   * @class\n   * @access public\n   */\n\n  var ModernizrProto = {\n    // The current version, dummy\n    _version: '3.1.0',\n\n    // Any settings that don't work as separate modules\n    // can go in here as configuration.\n    _config: {\n      'classPrefix' : '',\n      'enableClasses' : true,\n      'enableJSClass' : true,\n      'usePrefixes' : true\n    },\n\n    // Queue of tests\n    _q: [],\n\n    // Stub these for people who are listening\n    on: function(test, cb) {\n      // I don't really think people should do this, but we can\n      // safe guard it a bit.\n      // -- NOTE:: this gets WAY overridden in src/addTest for actual async tests.\n      // This is in case people listen to synchronous tests. I would leave it out,\n      // but the code to *disallow* sync tests in the real version of this\n      // function is actually larger than this.\n      var self = this;\n      setTimeout(function() {\n        cb(self[test]);\n      }, 0);\n    },\n\n    addTest: function(name, fn, options) {\n      tests.push({name : name, fn : fn, options : options});\n    },\n\n    addAsyncTest: function(fn) {\n      tests.push({name : null, fn : fn});\n    }\n  };\n\n  \n\n  // Fake some of Object.create so we can force non test results to be non \"own\" properties.\n  var Modernizr = function() {};\n  Modernizr.prototype = ModernizrProto;\n\n  // Leak modernizr globally when you `require` it rather than force it here.\n  // Overwrite name so constructor name is nicer :D\n  Modernizr = new Modernizr();\n\n  \n\n  /**\n   * is returns a boolean if the typeof an obj is exactly type.\n   *\n   * @access private\n   * @function is\n   * @param {*} obj - A thing we want to check the type of\n   * @param {string} type - A string to compare the typeof against\n   * @returns {boolean}\n   */\n\n  function is(obj, type) {\n    return typeof obj === type;\n  }\n  ;\n\n  /**\n   * List of property values to set for css tests. See ticket #21\n   * http://git.io/vUGl4\n   *\n   * @memberof Modernizr\n   * @name Modernizr._prefixes\n   * @optionName Modernizr._prefixes\n   * @optionProp prefixes\n   * @access public\n   * @example\n   *\n   * Modernizr._prefixes is the internal list of prefixes that we test against\n   * inside of things like [prefixed](#modernizr-prefixed) and [prefixedCSS](#-code-modernizr-prefixedcss). It is simply\n   * an array of kebab-case vendor prefixes you can use within your code.\n   *\n   * Some common use cases include\n   *\n   * Generating all possible prefixed version of a CSS property\n   * ```js\n   * var rule = Modernizr._prefixes.join('transform: rotate(20deg); ');\n   *\n   * rule === 'transform: rotate(20deg); webkit-transform: rotate(20deg); moz-transform: rotate(20deg); o-transform: rotate(20deg); ms-transform: rotate(20deg);'\n   * ```\n   *\n   * Generating all possible prefixed version of a CSS value\n   * ```js\n   * rule = 'display:' +  Modernizr._prefixes.join('flex; display:') + 'flex';\n   *\n   * rule === 'display:flex; display:-webkit-flex; display:-moz-flex; display:-o-flex; display:-ms-flex; display:flex'\n   * ```\n   */\n\n  var prefixes = (ModernizrProto._config.usePrefixes ? ' -webkit- -moz- -o- -ms- '.split(' ') : []);\n\n  // expose these for the plugin API. Look in the source for how to join() them against your input\n  ModernizrProto._prefixes = prefixes;\n\n  \n\n  var classes = [];\n  \n\n  /**\n   * Run through all tests and detect their support in the current UA.\n   *\n   * @access private\n   */\n\n  function testRunner() {\n    var featureNames;\n    var feature;\n    var aliasIdx;\n    var result;\n    var nameIdx;\n    var featureName;\n    var featureNameSplit;\n\n    for (var featureIdx in tests) {\n      featureNames = [];\n      feature = tests[featureIdx];\n      // run the test, throw the return value into the Modernizr,\n      // then based on that boolean, define an appropriate className\n      // and push it into an array of classes we'll join later.\n      //\n      // If there is no name, it's an 'async' test that is run,\n      // but not directly added to the object. That should\n      // be done with a post-run addTest call.\n      if (feature.name) {\n        featureNames.push(feature.name.toLowerCase());\n\n        if (feature.options && feature.options.aliases && feature.options.aliases.length) {\n          // Add all the aliases into the names list\n          for (aliasIdx = 0; aliasIdx < feature.options.aliases.length; aliasIdx++) {\n            featureNames.push(feature.options.aliases[aliasIdx].toLowerCase());\n          }\n        }\n      }\n\n      // Run the test, or use the raw value if it's not a function\n      result = is(feature.fn, 'function') ? feature.fn() : feature.fn;\n\n\n      // Set each of the names on the Modernizr object\n      for (nameIdx = 0; nameIdx < featureNames.length; nameIdx++) {\n        featureName = featureNames[nameIdx];\n        // Support dot properties as sub tests. We don't do checking to make sure\n        // that the implied parent tests have been added. You must call them in\n        // order (either in the test, or make the parent test a dependency).\n        //\n        // Cap it to TWO to make the logic simple and because who needs that kind of subtesting\n        // hashtag famous last words\n        featureNameSplit = featureName.split('.');\n\n        if (featureNameSplit.length === 1) {\n          Modernizr[featureNameSplit[0]] = result;\n        } else {\n          // cast to a Boolean, if not one already\n          /* jshint -W053 */\n          if (Modernizr[featureNameSplit[0]] && !(Modernizr[featureNameSplit[0]] instanceof Boolean)) {\n            Modernizr[featureNameSplit[0]] = new Boolean(Modernizr[featureNameSplit[0]]);\n          }\n\n          Modernizr[featureNameSplit[0]][featureNameSplit[1]] = result;\n        }\n\n        classes.push((result ? '' : 'no-') + featureNameSplit.join('-'));\n      }\n    }\n  }\n\n  ;\n\n  /**\n   * docElement is a convenience wrapper to grab the root element of the document\n   *\n   * @access private\n   * @returns {HTMLElement|SVGElement} The root element of the document\n   */\n\n  var docElement = document.documentElement;\n  \n\n  /**\n   * A convenience helper to check if the document we are running in is an SVG document\n   *\n   * @access private\n   * @returns {boolean}\n   */\n\n  var isSVG = docElement.nodeName.toLowerCase() === 'svg';\n  \n\n  /**\n   * createElement is a convenience wrapper around document.createElement. Since we\n   * use createElement all over the place, this allows for (slightly) smaller code\n   * as well as abstracting away issues with creating elements in contexts other than\n   * HTML documents (e.g. SVG documents).\n   *\n   * @access private\n   * @function createElement\n   * @returns {HTMLElement|SVGElement} An HTML or SVG element\n   */\n\n  function createElement() {\n    if (typeof document.createElement !== 'function') {\n      // This is the case in IE7, where the type of createElement is \"object\".\n      // For this reason, we cannot call apply() as Object is not a Function.\n      return document.createElement(arguments[0]);\n    } else if (isSVG) {\n      return document.createElementNS.call(document, 'http://www.w3.org/2000/svg', arguments[0]);\n    } else {\n      return document.createElement.apply(document, arguments);\n    }\n  }\n\n  ;\n\n  /**\n   * getBody returns the body of a document, or an element that can stand in for\n   * the body if a real body does not exist\n   *\n   * @access private\n   * @function getBody\n   * @returns {HTMLElement|SVGElement} Returns the real body of a document, or an\n   * artificially created element that stands in for the body\n   */\n\n  function getBody() {\n    // After page load injecting a fake body doesn't work so check if body exists\n    var body = document.body;\n\n    if (!body) {\n      // Can't use the real body create a fake one.\n      body = createElement(isSVG ? 'svg' : 'body');\n      body.fake = true;\n    }\n\n    return body;\n  }\n\n  ;\n\n  /**\n   * injectElementWithStyles injects an element with style element and some CSS rules\n   *\n   * @access private\n   * @function injectElementWithStyles\n   * @param {string} rule - String representing a css rule\n   * @param {function} callback - A function that is used to test the injected element\n   * @param {number} [nodes] - An integer representing the number of additional nodes you want injected\n   * @param {string[]} [testnames] - An array of strings that are used as ids for the additional nodes\n   * @returns {boolean}\n   */\n\n  function injectElementWithStyles(rule, callback, nodes, testnames) {\n    var mod = 'modernizr';\n    var style;\n    var ret;\n    var node;\n    var docOverflow;\n    var div = createElement('div');\n    var body = getBody();\n\n    if (parseInt(nodes, 10)) {\n      // In order not to give false positives we create a node for each test\n      // This also allows the method to scale for unspecified uses\n      while (nodes--) {\n        node = createElement('div');\n        node.id = testnames ? testnames[nodes] : mod + (nodes + 1);\n        div.appendChild(node);\n      }\n    }\n\n    style = createElement('style');\n    style.type = 'text/css';\n    style.id = 's' + mod;\n\n    // IE6 will false positive on some tests due to the style element inside the test div somehow interfering offsetHeight, so insert it into body or fakebody.\n    // Opera will act all quirky when injecting elements in documentElement when page is served as xml, needs fakebody too. #270\n    (!body.fake ? div : body).appendChild(style);\n    body.appendChild(div);\n\n    if (style.styleSheet) {\n      style.styleSheet.cssText = rule;\n    } else {\n      style.appendChild(document.createTextNode(rule));\n    }\n    div.id = mod;\n\n    if (body.fake) {\n      //avoid crashing IE8, if background image is used\n      body.style.background = '';\n      //Safari 5.13/5.1.4 OSX stops loading if ::-webkit-scrollbar is used and scrollbars are visible\n      body.style.overflow = 'hidden';\n      docOverflow = docElement.style.overflow;\n      docElement.style.overflow = 'hidden';\n      docElement.appendChild(body);\n    }\n\n    ret = callback(div, rule);\n    // If this is done after page load we don't want to remove the body so check if body exists\n    if (body.fake) {\n      body.parentNode.removeChild(body);\n      docElement.style.overflow = docOverflow;\n      // Trigger layout so kinetic scrolling isn't disabled in iOS6+\n      docElement.offsetHeight;\n    } else {\n      div.parentNode.removeChild(div);\n    }\n\n    return !!ret;\n\n  }\n\n  ;\n\n  /**\n   * testStyles injects an element with style element and some CSS rules\n   *\n   * @memberof Modernizr\n   * @name Modernizr.testStyles\n   * @optionName Modernizr.testStyles()\n   * @optionProp testStyles\n   * @access public\n   * @function testStyles\n   * @param {string} rule - String representing a css rule\n   * @param {function} callback - A function that is used to test the injected element\n   * @param {number} [nodes] - An integer representing the number of additional nodes you want injected\n   * @param {string[]} [testnames] - An array of strings that are used as ids for the additional nodes\n   * @returns {boolean}\n   * @example\n   *\n   * `Modernizr.testStyles` takes a CSS rule and injects it onto the current page\n   * along with (possibly multiple) DOM elements. This lets you check for features\n   * that can not be detected by simply checking the [IDL](https://developer.mozilla.org/en-US/docs/Mozilla/Developer_guide/Interface_development_guide/IDL_interface_rules).\n   *\n   * ```js\n   * Modernizr.testStyles('#modernizr { width: 9px; color: papayawhip; }', function(elem, rule) {\n   *   // elem is the first DOM node in the page (by default #modernizr)\n   *   // rule is the first argument you supplied - the CSS rule in string form\n   *\n   *   addTest('widthworks', elem.style.width === '9px')\n   * });\n   * ```\n   *\n   * If your test requires multiple nodes, you can include a third argument\n   * indicating how many additional div elements to include on the page. The\n   * additional nodes are injected as children of the `elem` that is returned as\n   * the first argument to the callback.\n   *\n   * ```js\n   * Modernizr.testStyles('#modernizr {width: 1px}; #modernizr2 {width: 2px}', function(elem) {\n   *   document.getElementById('modernizr').style.width === '1px'; // true\n   *   document.getElementById('modernizr2').style.width === '2px'; // true\n   *   elem.firstChild === document.getElementById('modernizr2'); // true\n   * }, 1);\n   * ```\n   *\n   * By default, all of the additional elements have an ID of `modernizr[n]`, where\n   * `n` is its index (e.g. the first additional, second overall is `#modernizr2`,\n   * the second additional is `#modernizr3`, etc.).\n   * If you want to have more meaningful IDs for your function, you can provide\n   * them as the fourth argument, as an array of strings\n   *\n   * ```js\n   * Modernizr.testStyles('#foo {width: 10px}; #bar {height: 20px}', function(elem) {\n   *   elem.firstChild === document.getElementById('foo'); // true\n   *   elem.lastChild === document.getElementById('bar'); // true\n   * }, 2, ['foo', 'bar']);\n   * ```\n   *\n   */\n\n  var testStyles = ModernizrProto.testStyles = injectElementWithStyles;\n  \n/*!\n{\n  \"name\": \"Touch Events\",\n  \"property\": \"touchevents\",\n  \"caniuse\" : \"touch\",\n  \"tags\": [\"media\", \"attribute\"],\n  \"notes\": [{\n    \"name\": \"Touch Events spec\",\n    \"href\": \"http://www.w3.org/TR/2013/WD-touch-events-20130124/\"\n  }],\n  \"warnings\": [\n    \"Indicates if the browser supports the Touch Events spec, and does not necessarily reflect a touchscreen device\"\n  ],\n  \"knownBugs\": [\n    \"False-positive on some configurations of Nokia N900\",\n    \"False-positive on some BlackBerry 6.0 builds – https://github.com/Modernizr/Modernizr/issues/372#issuecomment-3112695\"\n  ]\n}\n!*/\n/* DOC\nIndicates if the browser supports the W3C Touch Events API.\n\nThis *does not* necessarily reflect a touchscreen device:\n\n* Older touchscreen devices only emulate mouse events\n* Modern IE touch devices implement the Pointer Events API instead: use `Modernizr.pointerevents` to detect support for that\n* Some browsers & OS setups may enable touch APIs when no touchscreen is connected\n* Future browsers may implement other event models for touch interactions\n\nSee this article: [You Can't Detect A Touchscreen](http://www.stucox.com/blog/you-cant-detect-a-touchscreen/).\n\nIt's recommended to bind both mouse and touch/pointer events simultaneously – see [this HTML5 Rocks tutorial](http://www.html5rocks.com/en/mobile/touchandmouse/).\n\nThis test will also return `true` for Firefox 4 Multitouch support.\n*/\n\n  // Chrome (desktop) used to lie about its support on this, but that has since been rectified: http://crbug.com/36415\n  Modernizr.addTest('touchevents', function() {\n    var bool;\n    if (('ontouchstart' in window) || window.DocumentTouch && document instanceof DocumentTouch) {\n      bool = true;\n    } else {\n      var query = ['@media (', prefixes.join('touch-enabled),('), 'heartz', ')', '{#modernizr{top:9px;position:absolute}}'].join('');\n      testStyles(query, function(node) {\n        bool = node.offsetTop === 9;\n      });\n    }\n    return bool;\n  });\n\n\n  // Run each test\n  testRunner();\n\n  delete ModernizrProto.addTest;\n  delete ModernizrProto.addAsyncTest;\n\n  // Run the things that are supposed to run after the tests\n  for (var i = 0; i < Modernizr._q.length; i++) {\n    Modernizr._q[i]();\n  }\n\n  // Leak Modernizr namespace\n  window.Modernizr = Modernizr;\n\n\n;\n\n})(window, document);","var Route = ReactRouter.Route\nvar NotFoundRoute = ReactRouter.NotFoundRoute\nvar config = require('js/config')\nimport Backend from './backend'\nimport Home from './components/home'\nimport Register from './components/register'\nimport TravelPlanner from './components/travel_planner'\nimport App from './components/app'\nimport RouteNotFound from './components/route_not_found'\n\nexport default (\n  <Route path={config.ROOT_PATH} handler={App}>\n    <Route handler={Home}/>\n    <Route path=\"travel-planner\" handler={TravelPlanner}/>\n    <Route path=\"register\" handler={Register}/>\n    <NotFoundRoute handler={RouteNotFound}/>\n  </Route>\n)\n","import actionHandler from '../action_handler'\nimport backend from '../backend'\n\nclass SessionStore {\n\n  constructor() {\n    this._sessionValid = false\n    this.loading = false\n  }\n\n  check() {\n    backend.get('/sessions/valid').then( (res) => {\n      this.sessionValid = res.session_valid\n    })\n  }\n\n  authenticate(credentials) {\n    this.loading = true\n    this.changed()\n    backend.post('/users/sign_in', credentials).then( (res) => {\n        this.sessionValid = true\n        actionHandler.emit('alert', { level: 'success', message: 'Logged in.' })\n    }, (res) => {\n        actionHandler.emit('alert', { level: 'error', message: res.responseJSON ? res.responseJSON.error : 'Unable to login, please check your network connection.'})\n        this.loading = false\n        this.changed()\n    })\n  }\n\n  logOut() {\n    this.sessionValid = false\n    actionHandler.emit('alert', { level: 'success', message: 'Logged out.' })\n    // TODO handle error when signing out\n    backend.delete('/users/sign_out')\n  }\n\n  get sessionValid() {\n    return this._sessionValid\n  }\n\n  set sessionValid(isValid) {\n    if (this._sessionValid !== isValid) {\n      this._sessionValid = isValid\n      this.changed()\n    }\n  }\n\n  changed() {\n    actionHandler.emit('session-changed')\n  }\n}\n\nexport default new SessionStore\n","import actionHandler from '../action_handler'\nimport backend from '../backend'\n\nclass TripStore {\n\n  constructor() {\n    this._trips = []\n  }\n\n  populate() {\n    backend.get('/trips').then( (trips) => {\n      this._trips = trips\n      this.changed()\n    }, () => {\n      actionHandler.emit('alert', { level: 'error', message: 'An error occurred loading your trips, please check your network connection' })\n    })\n  }\n\n  filter(options) {\n    this._filter = options\n    this.changed()\n  }\n\n  addTrip(trip) {\n    if (this.tripValid(trip)) {\n      let id = uuid.v4()\n      trip.id = id\n      this._trips.push(trip)\n      this.changed()\n      backend.post('/trips', { trip: trip }).then( (res) => {\n        actionHandler.emit('trip-added')\n        actionHandler.emit('alert', { level: 'success', message: 'Trip added ok!' })\n      }, (error) => {\n        actionHandler.emit('alert', { level: 'error', message: 'Problem creating trip :( Please check your network connection' })\n        this.destroy(id, true)\n      })\n    }\n  }\n\n  tripValid(trip) {\n    if (moment(trip.start_date).isAfter(trip.end_date)) {\n      actionHandler.emit('alert', { level: 'error', message: \"Make sure your trip start date is before or equal to your trip end date!\" })\n      return false\n    }\n    return true\n  }\n\n  destroy(id, silent=false) {\n    let [deletedTrip, deletedIndex] = this.getTripAndIndex(id)\n    this._trips.splice(deletedIndex, 1)\n    this.changed()\n    if (!silent) {\n      backend.delete(`/trips/${id}`).then( (res) => {\n        actionHandler.emit('alert', { level: 'success', message: 'Trip deleted!' })\n      }, (error) => {\n        actionHandler.emit('alert', { level: 'error', message: 'Problem deleting trip :( Please check your network connection' })\n        this._trips.push(deletedTrip)\n        this.changed()\n      })\n    }\n  }\n\n  save(id, params) {\n    let [trip, index] = this.getTripAndIndex(id)\n    let updatedTrip = params\n    updatedTrip.id = id\n    this._trips[index] = updatedTrip\n    this.changed()\n    backend.put(`/trips/${id}`, { trip: params } ).then( (res) => {\n      actionHandler.emit('alert', { level: 'success', message: 'Trip updated!' })\n    }, (error) => {\n      actionHandler.emit('alert', { level: 'error', message: 'Problem updating trip :( Please check your network connection' })\n      this._trips[index] = trip\n      this.changed()\n    })\n  }\n\n  getTripAndIndex(id) {\n    let index = this._trips.findIndex( trip => trip.id === id )\n    let trip = this._trips[index]\n    return [trip, index]\n  }\n\n  changed() {\n    actionHandler.emit('trips-changed')\n  }\n\n  get trips() {\n    let { keyword, from, to } = this._filter || {}\n    let keywordRegexp = new RegExp(keyword, 'i')\n    let filteredTrips = this._trips.filter( (trip) => {\n      let keywordValid = !keyword || trip.destination.match(keywordRegexp) || trip.comment.match(keywordRegexp)\n      let fromValid = !from || moment(trip.start_date) >= from\n      let toValid = !to || moment(trip.end_date) <= to\n      return keywordValid && fromValid && toValid\n    })\n    return filteredTrips.sort( (a, b) => {\n      return a.start_date.localeCompare(b.start_date)\n    })\n  }\n\n  get nextMonthsTrips() {\n    let startOfNextMonth = moment().add(1, 'months').startOf('month')\n    let endOfNextMonth = startOfNextMonth.clone().endOf('month')\n    return this._trips.filter( (trip) => {\n      let startDate = moment(trip.start_date)\n      return startDate >= startOfNextMonth && startDate <= endOfNextMonth\n    })\n  }\n}\n\nexport default new TripStore\n","import actionHandler from '../action_handler'\n\nexport default (keyMappings) => {\n  return (res) => {\n    let json = res.responseJSON\n    let errorDetails = { level: 'error' }\n    if (json) {\n      if (json.error) {\n        errorDetails.message = json.error\n      } else {\n        let errorKeys = Object.keys(json.errors)\n        let message = errorKeys.map( (key) => {\n          return `${keyMappings[key] || key} ${json.errors[key][0].toLowerCase()}`\n        }).join(' & ')\n        errorDetails.message = `Sorry: ${message}`\n      }\n    } else {\n      errorDetails.message = 'Unknown error :('\n    }\n\n    actionHandler.emit('alert', errorDetails)\n  }\n}\n","export default (form, keys) => {\n  let formParams = {}\n  for (let key of keys) {\n    formParams[key] = form.refs[key].getDOMNode().value.trim()\n  }\n  return formParams\n}\n","export default (object, properties) => {\n  for (let property of properties) {\n    object[`${property}Changed`] = (type, value) => {\n      if (!value._isAMomentObject) {\n        value = value.target.value\n      }\n      if (value && type === 'date') {\n        value = moment(value)\n      }\n      object.setState({ [property]: value })\n    }\n  }\n}\n"]}